@using System.Collections.Generic;
@using UniversityManagementSystem.Models;

@{
    ViewData["Title"] = "Index";
    var completed = (List<TodoItem>)ViewData["completed"];
    var todo = (List<TodoItem>)ViewData["todo"];
}

<h1>Index</h1>

<p>
    <a asp-action="Create">Create New</a>
</p>

<div class="container">
    <div class="row">
        <h3>TodoList</h3>
        <table class="table">
          <thead>
            <tr>
              <th scope="col">#</th>
              <th scope="col">Name</th>
              <th scope="col">Comment</th>
              <th scope="col">Action</th>
            </tr>
          </thead>
          <tbody>
            @foreach(var item in todo){
                <tr>
                  <th scope="row">@item.Id</th>
                  <td>@item.Name</td>
                  <td>@item.Comment</td>
                  <td>
                      <a asp-controller="TodoItems" asp-action="Toggle" asp-route-id="@item.Id">Complete</a> | 
                      <a asp-controller="TodoItems" asp-action="Edit" asp-route-id="@item.Id">Edit</a> | 
                      <a asp-controller="TodoItems" asp-action="Confirm" asp-route-id="@item.Id">Delete</a>
                  </td>
                </tr>               
            }
          </tbody>
        </table>
    </div>
        <div class="row">
        <h3>Completed</h3>
        <table class="table">
          <thead>
            <tr>
              <th scope="col">#</th>
              <th scope="col">Name</th>
              <th scope="col">Comment</th>
              <th scope="col">Action</th>
            </tr>
          </thead>
          <tbody>
            @foreach(var item in completed){
                <tr>
                  <th scope="row">@item.Id</th>
                  <td>@item.Name</td>
                  <td>@item.Comment</td>
                  <td>
                      <a asp-controller="TodoItems" asp-action="toggle" asp-route-id="@item.Id">Undo</a> | 
                      <a asp-controller="TodoItems" asp-action="Edit" asp-route-id="@item.Id">Edit</a> | 
                      <a asp-controller="TodoItems" asp-action="Confirm" asp-route-id="@item.Id">Delete</a>
                  </td>
                </tr>               
            }
          </tbody>
        </table>
    </div>
</div>
