@using System.Collections.Generic;
@using UniversityManagementSystem.Models;

@{
    ViewData["Title"] = "Index";
    var completed = (List<TodoItem>)ViewData["completed"];
    var todo = (List<TodoItem>)ViewData["todo"];
}

<br />
<div class="container">
    <div class="row">
        <p>
    <a asp-action="Create" class="btn" style="background-color:#9b175a;color:white; float:right">Add Request</a>
</p><br /><br />
        <table class="table">
          <thead class="thead-dark">
            <tr>
              <th scope="col">#</th>
              <th scope="col">Name</th>
              <th scope="col">Comment</th>
              <th scope="col">Amount</th>
              <th scope="col">Branch</th>
              <th scope="col" style="text-align:center">Action</th>
            </tr>
          </thead>
          <tbody>
            @foreach(var item in todo){
                <tr>
                  <th scope="row">@item.Id</th>
                  <td>@item.Name</td>
                  <td>@item.Comment</td>
                  <td>@item.Amount</td>
                  <td>@item.Branch</td>
                  <td style="text-align:center">
                      <a asp-controller="TodoItems" asp-action="Toggle" class="btn btn-success" asp-route-id="@item.Id">Complete</a> | 
                      <a asp-controller="TodoItems" asp-action="Edit" class="btn btn-info" asp-route-id="@item.Id">Edit</a> | 
                      <a asp-controller="TodoItems" asp-action="Confirm" class="btn btn-danger" asp-route-id="@item.Id">Delete</a>
                  </td>
                </tr>               
            }
          </tbody>
        </table>
    </div><br /><br />
        <div class="row">
        <h3>Completed</h3><br /><br />
        <table class="table">
          <thead class="thead-dark">
            <tr>
              <th scope="col">#</th>
              <th scope="col">Name</th>
              <th scope="col">Comment</th>
              <th scope="col">Amount</th>
              <th scope="col">Branch</th>
              <th scope="col" style="text-align:center">Action</th>
            </tr>
          </thead>
          <tbody>
            @foreach(var item in completed){
                <tr>
                  <th scope="row">@item.Id</th>
                  <td>@item.Name</td>
                  <td>@item.Comment</td>
                  <td>@item.Amount</td>
                  <td>@item.Branch</td>
                  <td style="text-align:center">
                      <a asp-controller="TodoItems" asp-action="toggle" class="btn btn-warning" asp-route-id="@item.Id">Undo</a> | 
                      <a asp-controller="TodoItems" asp-action="Edit" class="btn btn-info" asp-route-id="@item.Id">Edit</a> | 
                      <a asp-controller="TodoItems" asp-action="Confirm" class="btn btn-danger" asp-route-id="@item.Id">Delete</a>
                  </td>
                </tr>               
            }
          </tbody>
        </table>
    </div>
</div>
